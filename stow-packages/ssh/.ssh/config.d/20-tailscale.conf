# Tailscale Network SSH Configuration
# Managed by: ~/dev/projects/dotfiles/stow-packages/ssh
# Tailnet: siamese-dominant
#
# This configuration includes all SSH-accessible devices in your Tailscale network.
# iOS devices (iPad, iPhone) are excluded as they don't support SSH.

# ============================================================================
# Your Devices (darkalis@)
# ============================================================================

# Mac Studio - Primary workstation
Host studio studio4change
    HostName studio4change.siamese-dominant.ts.net
    User matteocervelli
    IdentitiesOnly yes
    ForwardAgent yes
    # Optional: for development work
    # RemoteForward 52698 localhost:52698  # for remote debugging

# MacBook Pro - Laptop
Host macbook macbook4change
    HostName macbook4change.siamese-dominant.ts.net
    User matteocervelli
    IdentitiesOnly yes
    ForwardAgent yes

# NAS (Linux) - Network Attached Storage
Host nas nas4fortezza
    HostName nas4fortezza.siamese-dominant.ts.net
    User matteocervelli
    IdentitiesOnly yes
    ForwardAgent yes
    # NAS-specific settings
    Compression yes

# ============================================================================
# Sara's Devices (saraleonini91@)
# ============================================================================

# Sara's MacBook Air
Host sara sara-macbook macbook-air-di-sara
    HostName macbook-air-di-sara-2.siamese-dominant.ts.net
    User saraleonini
    ForwardAgent no
    # Note: Use 'saraleonini91' user or adjust if different

# ============================================================================
# Network-wide Settings for Tailscale Hosts
# ============================================================================

# Apply these settings to all *.ts.net hosts
Host *.ts.net
    # Tailscale-specific optimizations
    StrictHostKeyChecking accept-new
    # Tailscale already encrypts, so reduce SSH overhead
    Ciphers chacha20-poly1305@openssh.com
    # Keep connections alive (important for Tailscale)
    ServerAliveInterval 30
    ServerAliveCountMax 5
